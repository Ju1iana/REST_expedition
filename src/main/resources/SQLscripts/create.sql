CREATE TABLE Person
(
    id       int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    fio      varchar(60),
    gender   varchar(30),
    weight   integer,
    h        integer,
    age      integer,
    calories integer
);

/*CREATE TABLE Ration
(
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    calories integer,
    BZHU varchar(10),
    weight integer,
    description varchar
);*/

CREATE TABLE Products
(
  product_id                       int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  product_name                     VARCHAR(255) NOT NULL,
  product_calories_per_100g        INTEGER,
  product_daily_norm_per_person    INTEGER,
  product_proteins                 DOUBLE PRECISION,
  product_fats                     DOUBLE PRECISION,
  product_carbohydrates            DOUBLE PRECISION,
  product_digestibility_percentage INTEGER
);

CREATE TABLE Product_types
(
  type_id   int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  type_name VARCHAR(255) NOT NULL
);

CREATE TABLE mix
(
  type_id    INTEGER,
  product_id INTEGER,
  PRIMARY KEY (type_id, product_id),
  FOREIGN KEY (type_id) REFERENCES Product_types (type_id),
  FOREIGN KEY (product_id) REFERENCES Products (product_id)
);

INSERT INTO Person (fio, gender, h, age, weight, calories)
values ('Pankratova U.A.', 'WOMAN', 160, 21, 52, 2350);

INSERT INTO Person (fio, gender, h, age, weight, calories)
values ('Naimushin S.M.', 'MAN', 170, 22, 77, 3024);

delete
from Person
where id = 5;

DROP TABLE Person;


INSERT INTO Products (product_name, product_calories_per_100g, product_daily_norm_per_person, product_proteins,
                      product_fats, product_carbohydrates, product_digestibility_percentage)
VALUES ('Сухари черные', 326, 60, 11.2, 1.7, 69, 82),
       ('Сухари белые', 340, 70, 10, 1, 69, 80),
       ('Галеты', 340, 70, 9.7, 0, 69, 79),
       ('Печенье', 410, 70, 12, 10, 60, 82),
       ('Баранки, сушки', 272, 70, 8.6, 0.5, 56.8, 66),
       ('Вафли', 430, 80, 15, 8.2, 70, 93),
       ('Сахар', 505, 120, 0, 0, 99, 99),
       ('Карамель', 330, 50, 0.5, 10, 80, 90),
       ('Леденцы', 376, 50, 0, 0, 92, 92),
       ('Мед', 318, 30, 0.4, 0, 77, 77),
       ('Халва', 510, 60, 15, 30, 43, 88),
       ('Щербет или сливочное полено', 420, 70, 8.8, 10.8, 70, 90),
       ('Орехи в шоколаде', 540, 40, 4.8, 32.2, 54.3, 91),
       ('Шоколад обыкновенный', 510, 70, 4, 29, 50, 83),
       ('Шоколад молочный', 568, 70, 5.8, 37, 47, 90),
       ('Препарат для реабилитации спортсменов СП-11', 476, 50, 28.5, 24, 38.7, 91),
       ('Какао', 373, 30, 24, 17.5, 28, 69),
       ('Варенье, джем', 290, 50, 0.3, 0, 68, 68),
       ('Курага', 275, 70, 3.2, 0, 69, 72),
       ('Чернослив', 269, 70, 3.4, 0, 62, 65),
       ('Изюм', 260, 40, 2.5, 0, 61, 63),
       ('Сухофрукты', 235, 70, 2, 1, 65, 68),
       ('Орехи грецкие', 621, 30, 13.6, 56, 11.7, 81),
       ('Крупа гречневая', 330, 100, 13, 2, 68, 83),
       ('Крупа пшенная', 334, 80, 12, 3, 69.3, 84),
       ('Крупа манная', 320, 70, 11, 0.7, 73, 85),
       ('Крупа овсяная', 345, 70, 12, 6, 65, 83),
       ('Крупа рис', 330, 100, 6.7, 0.9, 72, 79),
       ('Горох', 310, 80, 20, 2, 51, 73),
       ('Чечевица', 296, 60, 16.2, 16, 50.2, 68),
       ('Рожки', 333, 100, 10.7, 1.3, 74.2, 86),
       ('Хлопья картофельные', 315, 80, 6.1, 0, 72.3, 78),
       ('Супы сухие', 320, 60, 12, 10, 44, 66),
       ('Тушенка говяжья', 220, 100, 16, 15, 1, 32),
       ('Тушенка свиная', 349, 100, 15, 32.2, 0, 47),
       ('Фарш колбасный', 212, 80, 15.2, 15.7, 2.8, 34),
       ('Паштет печеночный', 335, 80, 11, 31, 3, 45),
       ('Мясо сублимированное', 565, 40, 60, 36, 0, 96),
       ('Антрекоты, прожаренные на жире', 320, 120, 28, 22, 0, 50),
       ('Колбаса сырокопченая', 431, 70, 20, 37, 0, 57),
       ('Корейка, грудинка сырокопченые', 535, 70, 10, 54, 0, 64),
       ('Сало', 770, 50, 1.8, 80, 0, 82),
       ('Жир свиной', 871, 0, 0, 93.7, 0, 93),
       ('Масло топленое', 875, 70, 0.4, 94, 0, 94),
       ('Масло сливочное', 734, 70, 0.4, 78.5, 0.5, 79),
       ('Сыр 50 % жирности', 360, 70, 26.8, 27.3, 0, 53),
       ('Молоко сухое', 350, 40, 38, 1, 50, 89),
       ('Молоко сгущеное с сахаром', 335, 80, 7, 9, 55, 71),
       ('Смесь "Бебимикс"', 350, 70, 12, 5, 73, 90),
       ('Смесь "Детолакт"', 670, 40, 14, 27, 53, 94),
       ('Творог сублимированный', 400, 50, 97, 0, 0, 97),
       ('Сливки сухие', 607, 40, 22, 43, 30, 94),
       ('Яичный порошок', 520, 50, 50, 34, 0, 84),
       ('Рыба консервированная в масле', 220, 80, 19.5, 15.8, 0.4, 48),
       ('Рыба консервированная в томате', 160, 80, 15, 8, 7, 30),
       ('Рыба консервированная шпроты', 364, 80, 17.4, 32.4, 0.4, 50),
       ('Печень трески', 601, 60, 4, 62, 5, 71),
       ('Вобла вяленая', 230, 0, 42, 6, 0, 48),
       ('Грибы сушеные', 234, 30, 0.2, 2.6, 30, 33),
       ('Грибы свежие', 20, 0, 2.7, 0.7, 1.3, 4),
       ('Лук репчатый', 45, 0, 2, 0, 9, 11),
       ('Картофель свежий', 96, 400, 2, 0, 21, 23),
       ('Соус томатный', 80, 40, 4.3, 0, 15, 20),
       ('Икра овощная', 143, 150, 3, 10, 7, 20),
       ('Соль поваренная', 0, 10, 0, 0, 0, 0),
       ('Хлеб черный', 206, 200, 5.7, 1.3, 43.3, 50),
       ('Хлеб белый', 236, 150, 8, 1, 52, 61);


INSERT INTO product_types (type_name)
VALUES ('Завтрак'),
       ('Обед'),
       ('Ужин'),
       ('Перекус');


-- Завтрак (40%)
INSERT INTO mix (type_id, product_id)
VALUES (1, 1),  -- Сухари черные
       (1, 10), -- Мед
       (1, 11), -- Халва
       (1, 13), -- Орехи в шоколаде
       (1, 16), -- Препарат для реабилитации спортсменов СП-11
       (1, 18), -- Варенье, джем
       (1, 22), -- Сухофрукты
       (1, 23), -- Орехи грецкие
       (1, 24), -- Крупа гречневая
       (1, 25), -- Крупа пшенная
       (1, 26), -- Крупа манная
       (1, 27), -- Крупа овсяная
       (1, 28), -- Крупа рис
       (1, 30), -- Чечевица
       (1, 33), -- Супы сухие
       (1, 34), -- Тушенка говяжья
       (1, 35), -- Тушенка свиная
       (1, 38), -- Мясо сублимированное
       (1, 39), -- Антрекоты, прожаренные на жире
       (1, 40), -- Колбаса сырокопченая
       (1, 41), -- Корейка, грудинка сырокопченые
       (1, 42), -- Сало
       (1, 43), -- Жир свиной
       (1, 44), -- Масло топленое
       (1, 45), -- Масло сливочное
       (1, 46), -- Сыр 50 % жирности
       (1, 48), -- Молоко сгущеное с сахаром
       (1, 49), -- Смесь "Бебимикс"
       (1, 51), -- Творог сублимированный
       (1, 53); -- Яичный порошок

-- Обед (25%)
INSERT INTO mix (type_id, product_id)
VALUES (2, 1),  -- Сухари черные
       (2, 2),  -- Сухари белые
       (2, 3),  -- Галеты
       (2, 4),  -- Печенье
       (2, 5),  -- Баранки, сушки
       (2, 6),  -- Вафли
       (2, 7),  -- Сахар
       (2, 8),  -- Карамель
       (2, 9),  -- Леденцы
       (2, 12), -- Щербет или сливочное полено
       (2, 14), -- Шоколад обыкновенный
       (2, 15), -- Шоколад молочный
       (2, 17), -- Какао
       (2, 19), -- Курага
       (2, 20), -- Чернослив
       (2, 21), -- Изюм
       (2, 31), -- Рожки
       (2, 32), -- Хлопья картофельные
       (2, 34), -- Тушенка говяжья
       (2, 35), -- Тушенка свиная
       (2, 36), -- Фарш колбасный
       (2, 37), -- Паштет печеночный
       (2, 45), -- Масло сливочное
       (2, 46), -- Сыр 50 % жирности
       (2, 47), -- Молоко сухое
       (2, 49), -- Смесь "Бебимикс"
       (2, 51), -- Творог сублимированный
       (2, 52); -- Сливки сухие

-- Ужин (35%)
INSERT INTO mix (type_id, product_id)
VALUES (3, 1),  -- Сухари черные
       (3, 2),  -- Сухари белые
       (3, 3),  -- Галеты
       (3, 4),  -- Печенье
       (3, 5),  -- Баранки, сушки
       (3, 6),  -- Вафли
       (3, 7),  -- Сахар
       (3, 8),  -- Карамель
       (3, 9),  -- Леденцы
       (3, 11), -- Халва
       (3, 13), -- Орехи в шоколаде
       (3, 14), -- Шоколад обыкновенный
       (3, 15), -- Шоколад молочный
       (3, 16), -- Препарат для реабилитации спортсменов СП-11
       (3, 18), -- Варенье, джем
       (3, 23), -- Орехи грецкие
       (3, 24), -- Крупа гречневая
       (3, 25), -- Крупа пшенная
       (3, 26), -- Крупа манная
       (3, 27), -- Крупа овсяная
       (3, 28), -- Крупа рис
       (3, 29), -- Горох
       (3, 30), -- Чечевица
       (3, 31), -- Рожки
       (3, 32), -- Хлопья картофельные
       (3, 33), -- Супы сухие
       (3, 37), -- Паштет печеночный
       (3, 38), -- Мясо сублимированное
       (3, 39), -- Антрекоты, прожаренные на жире
       (3, 40), -- Колбаса сырокопченая
       (3, 41), -- Корейка, грудинка сырокопченые
       (3, 42), -- Сало
       (3, 43), -- Жир свиной
       (3, 44), -- Масло топленое
       (3, 47), -- Молоко сухое
       (3, 48), -- Молоко сгущеное с сахаром
       (3, 49), -- Смесь "Бебимикс"
       (3, 50), -- Смесь "Детолакт"
       (3, 51), -- Творог сублимированный
       (3, 53), -- Яичный порошок
       (3, 54), -- Рыба консервированная в масле
       (3, 55), -- Рыба консервированная в томате
       (3, 56), -- Рыба консервированная шпроты
       (3, 57), -- Печень трески
       (3, 58), -- Вобла вяленая
       (3, 59), -- Грибы сушеные
       (3, 60), -- Грибы свежие
       (3, 61), -- Лук репчатый
       (3, 62), -- Картофель свежий
       (3, 63), -- Соус томатный
       (3, 64), -- Икра овощная
       (3, 66), -- Хлеб черный
       (3, 67); -- Хлеб белый

-- Перекус
-- TODO: добавить сало, удалить смесь (?)
INSERT INTO mix (type_id, product_id)
VALUES (4, 3),  -- Галеты
       (4, 5),  -- Баранки, сушки
       (4, 9),  -- Леденцы
       (4, 14), -- Шоколад обыкновенный
       (4, 15), -- Шоколад молочный
       (4, 17), -- Какао
       (4, 19), -- Курага
       (4, 20), -- Чернослив
       (4, 21), -- Изюм
       (4, 22), -- Сухофрукты
       (4, 23), -- Орехи грецкие
       (4, 30), -- Чечевица
       (4, 31), -- Рожки
       (4, 32), -- Хлопья картофельные
       (4, 49), -- Смесь "Бебимикс"
       (4, 50) -- Смесь "Детолакт"




